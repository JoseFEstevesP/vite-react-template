import { useEffect, useState } from 'react';
const BtnTheme = ({ classStyle }) => {
	const themeDefault = window.matchMedia('(prefers-color-scheme: dark)').matches
		? 'dark'
		: 'Light';
	const themeDefaultLocal =
		localStorage.getItem('theme') === null
			? themeDefault
			: localStorage.getItem('theme');
	const [theme, setTheme] = useState(themeDefaultLocal);
	useEffect(() => {
		localStorage.setItem('theme', theme);
		setTheme(localStorage.getItem('theme'));
		document.documentElement.setAttribute('data-theme', theme);
	}, [theme]);
	const iconTheme = {
		light: (
			<svg width='30' height='30' viewBox='0 0 30 30' fill='none'>
				<path d='M29.5021 17.4588C29.2842 17.2404 29.0109 17.0855 28.7116 17.0107C28.4123 16.9359 28.0982 16.944 27.8032 17.0341C25.7419 17.6562 23.5505 17.7077 21.4623 17.1831C19.3741 16.6584 17.4674 15.5773 15.9452 14.0549C14.423 12.5325 13.3424 10.6257 12.8184 8.53781C12.2944 6.44989 12.3468 4.25898 12.9698 2.19844C13.0607 1.90332 13.0694 1.589 12.995 1.2893C12.9206 0.989602 12.7658 0.715855 12.5474 0.497502C12.329 0.279149 12.0552 0.124451 11.7555 0.0500456C11.4557 -0.0243601 11.1413 -0.0156584 10.8461 0.075215C7.74608 1.02783 5.0256 2.93386 3.07196 5.52199C1.36352 7.79228 0.321674 10.4936 0.0633276 13.3229C-0.195019 16.1522 0.340357 18.9975 1.60938 21.5396C2.87841 24.0816 4.83087 26.2198 7.24768 27.7142C9.66449 29.2086 12.45 30.0001 15.2917 29.9999C18.6095 30.0097 21.8388 28.9311 24.4845 26.9298C27.0719 24.9746 28.9763 22.2532 29.9269 19.1531C30.0162 18.8587 30.0238 18.5456 29.949 18.2472C29.8742 17.9487 29.7198 17.6762 29.5021 17.4588ZM22.4401 24.2163C20.1501 25.9399 17.3144 26.7785 14.455 26.578C11.5956 26.3774 8.90484 25.151 6.87797 23.1246C4.85109 21.0982 3.62447 18.408 3.42384 15.5493C3.22321 12.6905 4.06207 9.85549 5.78605 7.56595C6.6932 6.36628 7.81745 5.34743 9.10044 4.5623C9.07496 4.92466 9.06221 5.28844 9.06221 5.65363C9.06671 9.70667 10.6791 13.5924 13.5457 16.4584C16.4123 19.3243 20.2989 20.9363 24.3529 20.9408C24.7181 20.9408 25.082 20.9281 25.4444 20.9026C24.6595 22.1856 23.6404 23.3097 22.4401 24.2163Z' />
			</svg>
		),
		dark: (
			<svg width='30' height='30' viewBox='0 0 30 30' fill='none'>
				<path d='M13.5484 3.3871V1.45161C13.5484 1.06662 13.7013 0.697398 13.9736 0.425168C14.2458 0.152937 14.615 0 15 0C15.385 0 15.7542 0.152937 16.0264 0.425168C16.2987 0.697398 16.4516 1.06662 16.4516 1.45161V3.3871C16.4516 3.77209 16.2987 4.14131 16.0264 4.41354C15.7542 4.68577 15.385 4.83871 15 4.83871C14.615 4.83871 14.2458 4.68577 13.9736 4.41354C13.7013 4.14131 13.5484 3.77209 13.5484 3.3871ZM23.2258 15C23.2258 16.6269 22.7434 18.2173 21.8395 19.57C20.9356 20.9227 19.6509 21.9771 18.1479 22.5997C16.6448 23.2222 14.9909 23.3851 13.3952 23.0677C11.7996 22.7504 10.3339 21.9669 9.18348 20.8165C8.03308 19.6661 7.24964 18.2004 6.93225 16.6048C6.61486 15.0091 6.77775 13.3552 7.40035 11.8521C8.02294 10.349 9.07726 9.06435 10.43 8.16049C11.7827 7.25663 13.3731 6.77419 15 6.77419C17.1809 6.77643 19.2719 7.6438 20.814 9.18595C22.3562 10.7281 23.2236 12.8191 23.2258 15ZM20.3226 15C20.3226 13.9473 20.0104 12.9182 19.4256 12.0429C18.8407 11.1676 18.0094 10.4854 17.0369 10.0826C16.0643 9.67972 14.9941 9.57432 13.9616 9.77969C12.9291 9.98506 11.9807 10.492 11.2364 11.2364C10.492 11.9807 9.98506 12.9291 9.77969 13.9616C9.57432 14.9941 9.67972 16.0643 10.0826 17.0369C10.4854 18.0094 11.1676 18.8407 12.0429 19.4256C12.9182 20.0104 13.9473 20.3226 15 20.3226C16.4111 20.321 17.764 19.7597 18.7619 18.7619C19.7597 17.764 20.321 16.4111 20.3226 15ZM5.74718 7.80121C5.88221 7.93624 6.04251 8.04335 6.21893 8.11643C6.39535 8.1895 6.58444 8.22711 6.7754 8.22711C6.96636 8.22711 7.15545 8.1895 7.33187 8.11643C7.5083 8.04335 7.6686 7.93624 7.80363 7.80121C7.93866 7.66618 8.04577 7.50588 8.11884 7.32945C8.19192 7.15303 8.22953 6.96394 8.22953 6.77298C8.22953 6.58202 8.19192 6.39293 8.11884 6.21651C8.04577 6.04009 7.93866 5.87979 7.80363 5.74476L6.35202 4.29315C6.07931 4.02044 5.70945 3.86724 5.32379 3.86724C4.93813 3.86724 4.56827 4.02044 4.29556 4.29315C4.02286 4.56585 3.86966 4.93571 3.86966 5.32137C3.86966 5.70703 4.02286 6.07689 4.29556 6.3496L5.74718 7.80121ZM5.74718 22.1964L4.29556 23.648C4.16054 23.783 4.05343 23.9433 3.98035 24.1197C3.90727 24.2962 3.86966 24.4853 3.86966 24.6762C3.86966 24.8672 3.90727 25.0563 3.98035 25.2327C4.05343 25.4091 4.16054 25.5694 4.29556 25.7044C4.56827 25.9771 4.93813 26.1303 5.32379 26.1303C5.51475 26.1303 5.70384 26.0927 5.88026 26.0196C6.05669 25.9466 6.21699 25.8395 6.35202 25.7044L7.80363 24.2528C8.07633 23.9801 8.22953 23.6103 8.22953 23.2246C8.22953 22.8389 8.07633 22.4691 7.80363 22.1964C7.53093 21.9237 7.16106 21.7705 6.7754 21.7705C6.38974 21.7705 6.01988 21.9237 5.74718 22.1964ZM23.2258 8.22581C23.4165 8.22596 23.6053 8.18854 23.7816 8.11568C23.9578 8.04283 24.1179 7.93597 24.2528 7.80121L25.7044 6.3496C25.8395 6.21457 25.9466 6.05427 26.0196 5.87784C26.0927 5.70142 26.1303 5.51233 26.1303 5.32137C26.1303 5.13041 26.0927 4.94132 26.0196 4.7649C25.9466 4.58848 25.8395 4.42817 25.7044 4.29315C25.5694 4.15812 25.4091 4.05101 25.2327 3.97793C25.0563 3.90485 24.8672 3.86724 24.6762 3.86724C24.4853 3.86724 24.2962 3.90485 24.1197 3.97793C23.9433 4.05101 23.783 4.15812 23.648 4.29315L22.1964 5.74476C21.9921 5.94779 21.8529 6.20698 21.7964 6.48935C21.7399 6.77173 21.7687 7.06453 21.879 7.33052C21.9894 7.59651 22.1764 7.82366 22.4162 7.98308C22.656 8.14251 22.9378 8.227 23.2258 8.22581ZM24.2528 22.1988C23.9801 21.9261 23.6103 21.7729 23.2246 21.7729C22.8389 21.7729 22.4691 21.9261 22.1964 22.1988C21.9237 22.4715 21.7705 22.8414 21.7705 23.227C21.7705 23.6127 21.9237 23.9825 22.1964 24.2552L23.648 25.7069C23.9207 25.9796 24.2906 26.1328 24.6762 26.1328C25.0619 26.1328 25.4317 25.9796 25.7044 25.7069C25.9771 25.4342 26.1303 25.0643 26.1303 24.6786C26.1303 24.293 25.9771 23.9231 25.7044 23.6504L24.2528 22.1988ZM4.83871 15C4.83871 14.615 4.68577 14.2458 4.41354 13.9736C4.14131 13.7013 3.77209 13.5484 3.3871 13.5484H1.45161C1.06662 13.5484 0.697398 13.7013 0.425168 13.9736C0.152937 14.2458 0 14.615 0 15C0 15.385 0.152937 15.7542 0.425168 16.0264C0.697398 16.2987 1.06662 16.4516 1.45161 16.4516H3.3871C3.77209 16.4516 4.14131 16.2987 4.41354 16.0264C4.68577 15.7542 4.83871 15.385 4.83871 15ZM15 25.1613C14.615 25.1613 14.2458 25.3142 13.9736 25.5865C13.7013 25.8587 13.5484 26.2279 13.5484 26.6129V28.5484C13.5484 28.9334 13.7013 29.3026 13.9736 29.5748C14.2458 29.8471 14.615 30 15 30C15.385 30 15.7542 29.8471 16.0264 29.5748C16.2987 29.3026 16.4516 28.9334 16.4516 28.5484V26.6129C16.4516 26.2279 16.2987 25.8587 16.0264 25.5865C15.7542 25.3142 15.385 25.1613 15 25.1613ZM28.5484 13.5484H26.6129C26.2279 13.5484 25.8587 13.7013 25.5865 13.9736C25.3142 14.2458 25.1613 14.615 25.1613 15C25.1613 15.385 25.3142 15.7542 25.5865 16.0264C25.8587 16.2987 26.2279 16.4516 26.6129 16.4516H28.5484C28.9334 16.4516 29.3026 16.2987 29.5748 16.0264C29.8471 15.7542 30 15.385 30 15C30 14.615 29.8471 14.2458 29.5748 13.9736C29.3026 13.7013 28.9334 13.5484 28.5484 13.5484Z' />
			</svg>
		),
	};
	const handleClick = () => setTheme(theme === 'light' ? 'dark' : 'light');
	return (
		<button
			type='button'
			title={`botÃ³n de tema ${theme}`}
			className={classStyle}
			onClick={handleClick}
		>
			{iconTheme[theme]}
		</button>
	);
};

export default BtnTheme;
